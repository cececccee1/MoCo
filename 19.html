<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>Guess Number - GET</title>
</head>
<body>
  <h1>猜數字表單 - GET</h1>

  <form id="guessGetForm">
    <input type="number" name="guess" placeholder="輸入 1~10 的數字">
    <button type="submit">送出 (GET)</button>
  </form>

  <script>
    const getForm = document.getElementById('guessGetForm');

    // 先用一個真正存在的測試 API，比較不會錯
    const TEST_GET_URL = 'https://httpbin.org/get';

    getForm.onsubmit = async (e) => {
      e.preventDefault();

      const fd = new FormData(getForm);
      const guess = fd.get('guess');

      const url = TEST_GET_URL + '?guess=' + encodeURIComponent(guess);

      console.log('準備發送 GET 到：', url);

      try {
        const res = await fetch(url, { method: 'GET' });
        console.log('GET 狀態碼：', res.status);

        const text = await res.text();
        console.log('GET 原始回應文字：', text);

        // 如果確定是 JSON，再打開下面兩行
        // const data = JSON.parse(text);
        // console.log('GET 解析後 JSON：', data);
      } catch (err) {
        console.error('GET 請求失敗：', err);
      }
    };
  </script>
</body>
</html>

